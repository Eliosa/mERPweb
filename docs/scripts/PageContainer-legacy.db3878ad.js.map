{"version":3,"file":"PageContainer-legacy.db3878ad.js","sources":["../../src/components/appBreadcrumb/AppBreadcrumb.vue","../../src/components/pageContainer/PageContainer.vue"],"sourcesContent":["<script lang=\"ts\">\nexport default {\n  name: 'AppBreadcrumb',\n}\n</script>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { MENU_ITEMS } from '@/constants/menu'\n\nconst route = useRoute()\n\ninterface BreadcrumbItem {\n  title: string\n  path: string\n}\n\n// 查找第一个可用的路径\nconst findFirstAvailablePath = (items: (typeof MENU_ITEMS)[number]['children']): string => {\n  if (!items?.length) return '/'\n\n  for (const item of items) {\n    if (item.path) return item.path\n    if (item.children?.length) {\n      const childPath = findFirstAvailablePath(item.children)\n      if (childPath !== '/') return childPath\n    }\n  }\n\n  return '/'\n}\n\n// 查找当前路由在菜单中的位置并生成面包屑\nconst findMenuPath = (path: string): BreadcrumbItem[] => {\n  const breadcrumbs: BreadcrumbItem[] = []\n\n  // 遍历一级菜单\n  for (const level1 of MENU_ITEMS) {\n    // 如果是一级菜单且匹配\n    if (level1.path === path) {\n      breadcrumbs.push({\n        title: level1.title,\n        path: level1.path,\n      })\n      return breadcrumbs\n    }\n\n    // 遍历二级菜单\n    if (level1.children) {\n      const level1Path = findFirstAvailablePath(level1.children)\n\n      for (const level2 of level1.children) {\n        // 如果是二级菜单且匹配\n        if (level2.path === path) {\n          breadcrumbs.push({\n            title: level1.title,\n            path: level1Path,\n          })\n          breadcrumbs.push({\n            title: level2.title,\n            path: level2.path,\n          })\n          return breadcrumbs\n        }\n\n        // 遍历三级菜单\n        if (level2.children) {\n          const level2Path = level2.path || findFirstAvailablePath(level2.children)\n\n          for (const level3 of level2.children) {\n            if (level3.path === path) {\n              breadcrumbs.push({\n                title: level1.title,\n                path: level1Path,\n              })\n              breadcrumbs.push({\n                title: level2.title,\n                path: level2Path,\n              })\n              breadcrumbs.push({\n                title: level3.title,\n                path: level3.path,\n              })\n              return breadcrumbs\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return []\n}\n\n// 生成面包屑数据\nconst breadcrumbs = computed(() => {\n  return findMenuPath(route.path)\n})\n</script>\n\n<template>\n  <el-breadcrumb separator-icon=\"ArrowRight\" class=\"app-breadcrumb\">\n    <!-- <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item> -->\n    <el-breadcrumb-item v-for=\"item in breadcrumbs\" :key=\"item.path\" :to=\"{ path: item.path }\">\n      {{ item.title }}\n    </el-breadcrumb-item>\n  </el-breadcrumb>\n</template>\n\n<style scoped lang=\"less\">\n.app-breadcrumb {\n  margin-bottom: 16px;\n  line-height: 1;\n\n  :deep(.el-breadcrumb__item) {\n    .el-breadcrumb__inner {\n      color: #909399;\n\n      &.is-link {\n        color: #409eff;\n        font-weight: normal;\n\n        &:hover {\n          color: #79bbff;\n        }\n      }\n    }\n\n    &:last-child {\n      .el-breadcrumb__inner {\n        color: #303133;\n      }\n    }\n  }\n}\n</style>\n","<!-- 页面容器组件 -->\n<script lang=\"ts\">\nexport default {\n  name: 'PageContainer',\n}\n</script>\n<script setup lang=\"ts\">\nimport AppBreadcrumb from '@/components/appBreadcrumb/AppBreadcrumb.vue'\n\ndefineProps<{\n  // 是否显示面包屑导航\n  showBreadcrumb?: boolean\n}>()\n</script>\n\n<template>\n  <div class=\"page-container\">\n    <!-- 面包屑导航 -->\n    <AppBreadcrumb v-if=\"showBreadcrumb\" />\n\n    <!-- 页面内容 -->\n    <div class=\"page-content\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"less\">\n.page-container {\n  padding: 16px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n\n  .page-content {\n    flex: 1;\n    background: #ffffff;\n    border-radius: 4px;\n    padding: 20px;\n  }\n}\n</style>\n"],"names":["name","route","useRoute","findFirstAvailablePath","items","length","item","_item$children","path","children","childPath","breadcrumbs","computed","level1","MENU_ITEMS","push","title","level1Path","level2","level2Path","level3","findMenuPath","_createBlock","_component_el_breadcrumb","class","_createElementBlock","_Fragment","_renderList","value","_component_el_breadcrumb_item","key","to","_createTextVNode","_toDisplayString","_openBlock","_hoisted_1","showBreadcrumb","AppBreadcrumb","_createElementVNode","_hoisted_2","_renderSlot","_ctx","$slots"],"mappings":"y03DACA,iBAAe,CACbA,KAAM,+BASR,MAAMC,EAAQC,IAQRC,EAA0BC,IAC9B,GAAKA,UAAAA,EAAOC,OAAe,MAAA,IAE3B,IAAA,MAAWC,KAAQF,EAAO,CAAA,IAAAG,EACxB,GAAID,EAAKE,KAAM,OAAOF,EAAKE,KACvB,WAAAD,EAAAD,EAAKG,uBAALF,EAAeF,OAAQ,CACnB,MAAAK,EAAYP,EAAuBG,EAAKG,UAC9C,GAAkB,MAAdC,EAA0B,OAAAA,CAChC,CACF,CAEO,MAAA,KAkEHC,EAAcC,EAAS,IA9DPJ,KACpB,MAAMG,EAAgC,GAGtC,IAAA,MAAWE,KAAUC,EAAY,CAE3B,GAAAD,EAAOL,OAASA,EAKXG,OAJPA,EAAYI,KAAK,CACfC,MAAOH,EAAOG,MACdR,KAAMK,EAAOL,OAERG,EAIT,GAAIE,EAAOJ,SAAU,CACb,MAAAQ,EAAad,EAAuBU,EAAOJ,UAEtC,IAAA,MAAAS,KAAUL,EAAOJ,SAAU,CAEhC,GAAAS,EAAOV,OAASA,EASXG,OARPA,EAAYI,KAAK,CACfC,MAAOH,EAAOG,MACdR,KAAMS,IAERN,EAAYI,KAAK,CACfC,MAAOE,EAAOF,MACdR,KAAMU,EAAOV,OAERG,EAIT,GAAIO,EAAOT,SAAU,CACnB,MAAMU,EAAaD,EAAOV,MAAQL,EAAuBe,EAAOT,UAErD,IAAA,MAAAW,KAAUF,EAAOT,SACtB,GAAAW,EAAOZ,OAASA,EAaXG,OAZPA,EAAYI,KAAK,CACfC,MAAOH,EAAOG,MACdR,KAAMS,IAERN,EAAYI,KAAK,CACfC,MAAOE,EAAOF,MACdR,KAAMW,IAERR,EAAYI,KAAK,CACfC,MAAOI,EAAOJ,MACdR,KAAMY,EAAOZ,OAERG,CAGb,CACF,CACF,CACF,CAEA,MAAO,IAKAU,CAAapB,EAAMO,qFAK1Bc,EAKgBC,EAAA,CALD,iBAAe,aAAaC,MAAM,6BAE3B,IAA2B,QAA/CC,EAEqBC,EAAA,KAAAC,EAFchB,EAAWiB,MAAnBtB,QAA3BgB,EAEqBO,EAAA,CAF4BC,IAAKxB,EAAKE,KAAOuB,GAAE,CAAAvB,KAAUF,EAAKE,kBACjF,IAAgB,CAAbwB,EAAAC,EAAA3B,EAAKU,OAAK,oJCvGJ,CACbhB,KAAM,6EAaNkC,IAAAT,EAQM,MARNU,EAQM,CANiBC,EAAcA,oBAAnCd,EAAuCe,EAAA,CAAAP,IAAA,cAGvCQ,EAEM,MAFNC,EAEM,CADJC,EAAaC,EAAAC,OAAA,UAAA,CAAA,OAAA,GAAA"}