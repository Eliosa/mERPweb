import{_ as e,u as a}from"./index.1f46b1f0.js";/* empty css               *//* empty css                     *//* empty css               */import{P as l}from"./PageContainer.d2da7619.js";import{a as t,z as s,A as n,B as u,C as d,D as i,F as r,G as c,H as o,I as p,J as m,K as f,d as v,L as b,M as _,e as g,N as h,O as y,P as x}from"./elementPlus.022fa967.js";import{v as V,r as k,j as Y,x as w,J as T,K as D,B as M,I as H,z as N,a2 as S,P as j,au as P,aw as A,c as C,M as U,u as I,y as E,ab as R,H as L,S as B,Q as F,G as O}from"./vendor.3e9dbc58.js";import"./mock.93cde47e.js";const z=e(V({__name:"EllipsisText",props:{text:{},placement:{default:"top"},showAfter:{default:0},hideAfter:{default:0},enterable:{type:Boolean,default:!1},className:{default:""}},setup(e){const a=k(null),l=k(!1),s=()=>{if(!a.value)return;const e=a.value;l.value=e.scrollWidth>e.offsetWidth};return Y(()=>{s()}),(e,n)=>{const u=t;return w(),T(u,{content:e.text,placement:e.placement,"show-after":e.showAfter,"hide-after":e.hideAfter,enterable:e.enterable,disabled:!l.value},{default:D(()=>[M("span",{ref_key:"textRef",ref:a,class:H(["ellipsis-text",e.className]),onMouseenter:s},[N(e.$slots,"default",{},()=>[S(j(e.text),1)],!0)],34)]),_:3},8,["content","placement","show-after","hide-after","enterable","disabled"])}}}),[["__scopeId","data-v-bd5d1fc7"]]),G={class:"search-input-group"},J={class:"patient-cards"},K={class:"header-info"},W={class:"status-tag"},q={class:"card-content"},Q={class:"patient-flags"},$={class:"patient-info"},X={class:"patient-name"},Z={class:"patient-gender-age"},ee={class:"blood-type"},ae={class:"info-item"},le={class:"info-item"},te={class:"info-item"},se={class:"info-item"},ne={class:"info-item"},ue={class:"info-item"},de={class:"info-item"},ie={class:"info-item"},re={class:"info-item"},ce={class:"info-item"},oe={class:"info-item"},pe={class:"info-item"},me={class:"info-item"},fe=e(V({name:"PatientInfo",setup(e){const V=P(),k=a(),{searchForm:H,loading:N,patientList:fe}=A(k),{fetchPatientList:ve,resetSearchForm:be}=k,_e=[{label:"病患姓名",value:"name"},{label:"医生姓名",value:"doctorName"},{label:"血型",value:"bloodType"},{label:"住院号",value:"id"},{label:"申请单号",value:"applicationNumber"}],ge=[{label:"全部",value:""},{label:"手术中",value:"in_progress"},{label:"待手术",value:"pending"},{label:"已完成",value:"completed"}],he=[{label:"全部",value:""},{label:"已交接",value:"completed"},{label:"未交接",value:"pending"}],ye=[{label:"全部",value:""},{label:"04手术间",value:"04"},{label:"13手术间",value:"13"},{label:"14手术间",value:"14"},{label:"15手术间",value:"15"}],xe=C(()=>{const e=_e.find(e=>{var a;return e.value===(null==(a=H.value)?void 0:a.searchType)});return"请输入".concat((null==e?void 0:e.label)||"")}),Ve=()=>{ve()},ke=()=>{be(),ve()};Y(()=>{ve()});return(e,a)=>{const k=n,Y=u,P=b,A=d,C=i,ve=r,be=c,Ye=_,we=g,Te=t,De=h,Me=y,He=x,Ne=o;return w(),T(l,null,{default:D(()=>[U(be,{model:I(H),class:"search-form",inline:""},{default:D(()=>[U(Y,{label:"手术时间"},{default:D(()=>[U(k,{modelValue:I(H).surgeryTimeStart,"onUpdate:modelValue":a[0]||(a[0]=e=>I(H).surgeryTimeStart=e),type:"datetime",placeholder:"开始时间",format:"YYYY-MM-DD HH:mm","value-format":"YYYY-MM-DD HH:mm","default-time":new Date(2e3,1,1,8,0,0),clearable:"",class:"time-picker"},null,8,["modelValue","default-time"]),a[7]||(a[7]=M("span",{class:"time-separator"},"至",-1)),U(k,{modelValue:I(H).surgeryTimeEnd,"onUpdate:modelValue":a[1]||(a[1]=e=>I(H).surgeryTimeEnd=e),type:"datetime",placeholder:"结束时间",format:"YYYY-MM-DD HH:mm","value-format":"YYYY-MM-DD HH:mm","default-time":new Date(2e3,1,1,23,59,59),clearable:"",class:"time-picker"},null,8,["modelValue","default-time"])]),_:1,__:[7]}),U(Y,{label:"手术间",span:24,class:"width300"},{default:D(()=>[U(A,{modelValue:I(H).operatingRoom,"onUpdate:modelValue":a[2]||(a[2]=e=>I(H).operatingRoom=e),placeholder:"请选择手术间",clearable:""},{default:D(()=>[(w(),E(L,null,R(ye,e=>U(P,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),U(Y,{label:"手术状态",class:"width300"},{default:D(()=>[U(A,{modelValue:I(H).surgeryStatus,"onUpdate:modelValue":a[3]||(a[3]=e=>I(H).surgeryStatus=e),placeholder:"请选择手术状态",clearable:""},{default:D(()=>[(w(),E(L,null,R(ge,e=>U(P,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),U(Y,{label:"交接状态",class:"width300"},{default:D(()=>[U(A,{modelValue:I(H).handOverStatus,"onUpdate:modelValue":a[4]||(a[4]=e=>I(H).handOverStatus=e),placeholder:"请选择交接状态",clearable:""},{default:D(()=>[(w(),E(L,null,R(he,e=>U(P,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),U(Y,null,{default:D(()=>[M("div",G,[U(A,{modelValue:I(H).searchType,"onUpdate:modelValue":a[5]||(a[5]=e=>I(H).searchType=e),placeholder:"搜索类型",class:"search-type-select"},{default:D(()=>[(w(),E(L,null,R(_e,e=>U(P,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),U(C,{modelValue:I(H).searchValue,"onUpdate:modelValue":a[6]||(a[6]=e=>I(H).searchValue=e),placeholder:xe.value,clearable:"",class:"search-value-input"},null,8,["modelValue","placeholder"])])]),_:1}),U(Y,null,{default:D(()=>[U(ve,{type:"primary",icon:I(s),onClick:Ve},{default:D(()=>a[8]||(a[8]=[S("搜索",-1)])),_:1,__:[8]},8,["icon"]),U(ve,{onClick:ke},{default:D(()=>a[9]||(a[9]=[S("重置",-1)])),_:1,__:[9]})]),_:1})]),_:1},8,["model"]),B((w(),E("div",J,[(w(!0),E(L,null,R(I(fe),e=>(w(),T(He,{key:e.id,class:"patient-card",onClick:a=>(async e=>{await V.replace({name:"PatientDetail",params:{id:e.id,name:e.name}})})(e)},{default:D(()=>{var l,t;return[M("div",{class:"card-header",style:F({backgroundColor:(t=e.surgeryStatus,{pending:"#ff9900",in_progress:"#409eff",completed:"#67c23a"}[t]||"#909399")})},[M("div",K,[M("span",null,j(e.ward),1),U(Ye,{direction:"vertical"}),M("span",null,j(e.bedNumber),1),U(Ye,{direction:"vertical"}),M("span",null,j(e.operatingRoom),1),U(Ye,{direction:"vertical"}),M("span",null,"第"+j(e.sequence)+"台",1)]),M("div",W,j((null==(l=ge.find(a=>a.value===e.surgeryStatus))?void 0:l.label)||"未知"),1)],4),M("div",q,[M("div",Q,[e.flags.isAllergic?(w(),T(Te,{key:0,content:"过敏",placement:"top"},{default:D(()=>[U(we,{class:"warning-icon"},{default:D(()=>[U(I(p))]),_:1})]),_:1})):O("",!0),e.flags.hasVTE?(w(),T(Te,{key:1,content:"VTE风险",placement:"top"},{default:D(()=>[U(we,{class:"warning-icon"},{default:D(()=>[U(I(m))]),_:1})]),_:1})):O("",!0),"positive"===e.flags.hivStatus?(w(),T(Te,{key:2,content:"HIV阳性",placement:"top"},{default:D(()=>[U(we,{class:"danger-icon"},{default:D(()=>[U(I(m))]),_:1})]),_:1})):O("",!0),e.flags.hasArrearage?(w(),T(Te,{key:3,content:"欠费",placement:"top"},{default:D(()=>[U(we,{class:"warning-icon"},{default:D(()=>[U(I(f))]),_:1})]),_:1})):O("",!0),"positive"===e.flags.syphilisStatus?(w(),T(Te,{key:4,content:"梅毒阳性",placement:"top"},{default:D(()=>[U(we,{class:"danger-icon"},{default:D(()=>[U(I(m))]),_:1})]),_:1})):O("",!0)]),M("div",$,[U(Me,{class:"main-info",gutter:8},{default:D(()=>[U(De,null,{default:D(()=>[M("span",X,j(e.name),1),M("span",Z,j(e.gender)+" "+j(e.age)+"岁",1),M("span",ee,j(e.bloodType),1)]),_:2},1024)]),_:2},1024),U(Me,{gutter:16,class:"info-grid"},{default:D(()=>[U(De,{span:12},{default:D(()=>[M("div",ae,[a[10]||(a[10]=M("span",{class:"label"},"住院号：",-1)),U(z,{text:e.id,class:"value"},null,8,["text"])])]),_:2},1024),U(De,{span:12},{default:D(()=>[M("div",le,[a[11]||(a[11]=M("span",{class:"label"},"病案号：",-1)),U(z,{text:e.medicalRecordNumber,class:"value"},null,8,["text"])])]),_:2},1024),U(De,{span:12},{default:D(()=>{return[M("div",te,[a[12]||(a[12]=M("span",{class:"label"},"手术时间：",-1)),U(z,{text:(l=e.surgeryTime,v(l).format("YYYY-MM-DD HH:mm")),class:"value"},null,8,["text"])])];var l}),_:2},1024),U(De,{span:12},{default:D(()=>[M("div",se,[a[13]||(a[13]=M("span",{class:"label"},"手术名称：",-1)),U(z,{text:e.surgeryName,class:"value"},null,8,["text"])])]),_:2},1024),U(De,{span:12},{default:D(()=>{return[M("div",ne,[a[14]||(a[14]=M("span",{class:"label"},"手术类型：",-1)),U(z,{text:(l=e.surgeryType,{elective:"择期",emergency:"急诊",day:"日间"}[l]||l),class:"value"},null,8,["text"])])];var l}),_:2},1024),U(De,{span:12},{default:D(()=>[M("div",ue,[a[15]||(a[15]=M("span",{class:"label"},"麻醉方式：",-1)),U(z,{text:e.anesthesiaMethod,class:"value"},null,8,["text"])])]),_:2},1024),U(De,{span:12},{default:D(()=>[M("div",de,[a[16]||(a[16]=M("span",{class:"label"},"手麻编号：",-1)),U(z,{text:e.anesthesiaNumber,class:"value"},null,8,["text"])])]),_:2},1024),U(De,{span:12},{default:D(()=>[M("div",ie,[a[17]||(a[17]=M("span",{class:"label"},"护理等级：",-1)),U(z,{text:e.nursingLevel,class:"value"},null,8,["text"])])]),_:2},1024),U(De,{span:12},{default:D(()=>[M("div",re,[a[18]||(a[18]=M("span",{class:"label"},"医保类型：",-1)),U(z,{text:e.insuranceType,class:"value"},null,8,["text"])])]),_:2},1024),e.allergies?(w(),T(De,{key:0,span:12},{default:D(()=>[M("div",ce,[a[19]||(a[19]=M("span",{class:"label"},"过敏史：",-1)),U(z,{text:e.allergies,class:"value warning-text"},null,8,["text"])])]),_:2},1024)):O("",!0)]),_:2},1024),U(Me,{gutter:16,class:"staff-info"},{default:D(()=>[U(De,{span:8},{default:D(()=>[M("div",oe,[a[20]||(a[20]=M("span",{class:"label"},"手术医生：",-1)),U(z,{text:e.surgeonName,class:"value"},null,8,["text"])])]),_:2},1024),U(De,{span:8},{default:D(()=>[M("div",pe,[a[21]||(a[21]=M("span",{class:"label"},"麻醉医生：",-1)),U(z,{text:e.anesthesiologistName,class:"value"},null,8,["text"])])]),_:2},1024),U(De,{span:8},{default:D(()=>[M("div",me,[a[22]||(a[22]=M("span",{class:"label"},"巡回护士：",-1)),U(z,{text:e.circuitNurse,class:"value"},null,8,["text"])])]),_:2},1024)]),_:2},1024)])])]}),_:2},1032,["onClick"]))),128))])),[[Ne,I(N)]])]),_:1})}}}),[["__scopeId","data-v-dd630f0d"]]);export{fe as default};
//# sourceMappingURL=PatientInfo.7de88a63.js.map
