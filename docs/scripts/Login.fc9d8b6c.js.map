{"version":3,"file":"Login.fc9d8b6c.js","sources":["../../src/assets/login.jpg","../../src/views/login/Login.vue"],"sourcesContent":["export default \"__VITE_ASSET__6232cf2f__\"","<script lang=\"ts\">\nexport default {\n  name: 'LoginPage',\n}\n</script>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useUserStore } from '@/stores/userStore'\nimport { ROUTER_PATH } from '@/constants/menu'\nimport { SURGERY_ROOMS } from '@/constants/surgery'\nimport { ElMessage } from 'element-plus'\n\nconst router = useRouter()\nconst userStore = useUserStore()\n\n// 登录表单数据\nconst loginForm = ref({\n  operatingRoom: SURGERY_ROOMS[0].value || '', // 手术间\n  employeeId: '', // 工号\n  password: '', // 密码\n})\n\n// 手术间选项\nconst operatingRooms = ref(SURGERY_ROOMS)\n\nconst handleLogin = async () => {\n  try {\n    const { success, errorMsg } = await userStore.login(\n      loginForm.value.employeeId,\n      loginForm.value.password,\n      loginForm.value.operatingRoom,\n    )\n\n    if (success) {\n      ElMessage.success('登录成功')\n      router.push(ROUTER_PATH.welcome)\n    } else {\n      ElMessage.error(errorMsg || '登录失败')\n    }\n  } catch (error) {\n    console.error('登录失败:', error)\n    ElMessage.error('登录失败，请稍后重试')\n  }\n}\n</script>\n\n<template>\n  <div class=\"login-page\">\n    <!-- 左侧图片区域 -->\n    <div class=\"login-left\">\n      <img src=\"@/assets/login.jpg\" alt=\"登录插图\" class=\"login-illustration\" />\n    </div>\n\n    <!-- 右侧登录区域 -->\n    <div class=\"login-right\">\n      <div class=\"login-container\">\n        <div class=\"login-header\">\n          <h2 class=\"login-title\">登录</h2>\n        </div>\n\n        <el-form :model=\"loginForm\" class=\"login-form\">\n          <el-form-item>\n            <el-select\n              v-model=\"loginForm.operatingRoom\"\n              placeholder=\"请选择手术间\"\n              class=\"login-input\"\n            >\n              <el-option\n                v-for=\"room in operatingRooms\"\n                :key=\"room.value\"\n                :label=\"room.label\"\n                :value=\"room.value\"\n              />\n            </el-select>\n          </el-form-item>\n\n          <el-form-item>\n            <el-input v-model=\"loginForm.employeeId\" placeholder=\"用户工号\" class=\"login-input\" />\n          </el-form-item>\n\n          <el-form-item>\n            <el-input\n              v-model=\"loginForm.password\"\n              type=\"password\"\n              placeholder=\"密码\"\n              class=\"login-input\"\n            />\n          </el-form-item>\n\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"handleLogin\" class=\"login-button\"> 登录 </el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n\n      <!-- 备案信息 -->\n      <div class=\"login-footer\">\n        <p>备案号：浙ICP备xxxxxxx号-x</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"less\">\n.login-page {\n  min-height: 100vh;\n  display: flex;\n  background-color: #f5f7fa;\n}\n\n.login-left {\n  flex: 2;\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 40px;\n\n  .login-illustration {\n    max-width: 100%;\n    height: auto;\n  }\n}\n\n.login-right {\n  flex: 3;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n}\n\n.login-container {\n  width: 400px;\n  padding: 40px;\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);\n}\n\n.login-header {\n  text-align: center;\n  margin-bottom: 40px;\n\n  .login-logo {\n    height: 40px;\n    margin-bottom: 16px;\n  }\n\n  .login-title {\n    font-size: 24px;\n    color: #333;\n    margin: 0;\n  }\n}\n\n.login-form {\n  .login-input {\n    width: 100%;\n  }\n\n  .login-button {\n    width: 100%;\n    height: 40px;\n    font-size: 16px;\n    background-color: #1890ff;\n    border-color: #1890ff;\n\n    &:hover,\n    &:focus {\n      background-color: #40a9ff;\n      border-color: #40a9ff;\n    }\n  }\n}\n\n.login-footer {\n  position: absolute;\n  bottom: 20px;\n  text-align: center;\n  color: #999;\n  font-size: 14px;\n}\n\n:deep(.el-input__wrapper) {\n  background-color: #f5f7fa;\n}\n\n:deep(.el-select .el-input__wrapper) {\n  background-color: #f5f7fa;\n}\n</style>\n"],"names":["_imports_0","URL","url","href","name","router","useRouter","userStore","useUserStore","loginForm","ref","operatingRoom","SURGERY_ROOMS","value","employeeId","password","operatingRooms","handleLogin","async","success","errorMsg","login","ElMessage","push","ROUTER_PATH","welcome","error","console","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","class","src","alt","_hoisted_2","_hoisted_3","_createVNode","_component_el_form","model","_component_el_form_item","_component_el_select","modelValue","_cache","$event","placeholder","_Fragment","_renderList","room","_createBlock","_component_el_option","key","label","_component_el_input","type","_component_el_button","onClick"],"mappings":"sQAAA,MAAeA,EAAA,GAAA,IAAAC,IAAA,2CAAAC,KAAAC,uFCEbC,KAAM,qBAYR,MAAMC,EAASC,IACTC,EAAYC,IAGZC,EAAYC,EAAI,CACpBC,cAAeC,EAAc,GAAGC,OAAS,GACzCC,WAAY,GACZC,SAAU,KAINC,EAAiBN,EAAIE,GAErBK,EAAcC,UACd,IACF,MAAMC,QAAEA,EAAAC,SAASA,SAAmBb,EAAUc,MAC5CZ,EAAUI,MAAMC,WAChBL,EAAUI,MAAME,SAChBN,EAAUI,MAAMF,eAGdQ,GACFG,EAAUH,QAAQ,QACXd,EAAAkB,KAAKC,EAAYC,UAEdH,EAAAI,MAAMN,GAAY,cAEvBM,GACCC,QAAAD,MAAM,QAASA,GACvBJ,EAAUI,MAAM,aAClB,6HAKA,OAAAE,IAAAC,EAqDM,MArDNC,EAqDM,aAnDJC,EAEM,MAAA,CAFDC,MAAM,cAAY,CACrBD,EAAsE,MAAA,CAAjEE,IAAAjC,EAAyBkC,IAAI,OAAOF,MAAM,6BAIjDD,EA6CM,MA7CNI,EA6CM,CA5CJJ,EAsCM,MAtCNK,EAsCM,aArCJL,EAEM,MAAA,CAFDC,MAAM,gBAAc,CACvBD,EAA+B,KAA3B,CAAAC,MAAM,eAAc,YAG1BK,EAgCUC,EAAA,CAhCAC,MAAO9B,EAASI,MAAEmB,MAAM,yBAChC,IAae,CAbfK,EAaeG,EAAA,KAAA,WAZb,IAWY,CAXZH,EAWYI,EAAA,CAVDC,WAAAjC,EAAAI,MAAUF,cAAV,sBAAAgC,EAAA,KAAAA,EAAA,GAAAC,GAAAnC,EAAAI,MAAUF,cAAaiC,GAChCC,YAAY,SACZb,MAAM,0BAGJ,IAA8B,QADhCH,EAKEiB,EAAA,KAAAC,EAJe/B,EAAcH,MAAtBmC,QADTC,EAKEC,EAAA,CAHCC,IAAKH,EAAKnC,MACVuC,MAAOJ,EAAKI,MACZvC,MAAOmC,EAAKnC,0EAKnBwB,EAEeG,EAAA,KAAA,WADb,IAAkF,CAAlFH,EAAkFgB,EAAA,CAA/DX,WAAAjC,EAAAI,MAAUC,WAAV,sBAAA6B,EAAA,KAAAA,EAAA,GAAAC,GAAAnC,EAAAI,MAAUC,WAAU8B,GAAEC,YAAY,OAAOb,MAAM,8CAGpEK,EAOeG,EAAA,KAAA,WANb,IAKE,CALFH,EAKEgB,EAAA,CAJSX,WAAAjC,EAAAI,MAAUE,SAAV,sBAAA4B,EAAA,KAAAA,EAAA,GAAAC,GAAAnC,EAAAI,MAAUE,SAAQ6B,GAC3BU,KAAK,WACLT,YAAY,KACZb,MAAM,8CAIVK,EAEeG,EAAA,KAAA,WADb,IAAoF,CAApFH,EAAoFkB,EAAA,CAAzED,KAAK,UAAWE,QAAOvC,EAAae,MAAM,2BAAe,IAAIW,EAAA,KAAAA,EAAA,GAAA,GAAJ,QAAI,6DAM9EZ,EAEM,MAAA,CAFDC,MAAM,gBAAc,CACvBD,EAA0B,SAAvB"}