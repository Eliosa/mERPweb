import{u as e,a as t,_ as a}from"./index.8b7de0e4.js";import{x as i,aA as l,aB as n,k as d,Y as s,al as o,y as r,z as u,A as c,Q as m,I as p,u as _,L as v,P as b,a4 as f,H as I,O as k,M as y,K as P,aG as T}from"./vendor.3cd7cc43.js";import"./elementPlus.e1a77197.js";import"./mock.cbbac905.js";const g={class:"patient-detail"},x={class:"nav-sidebar"},h={class:"content-area"},j={key:0,class:"tabs-container"},D=a(i({name:"PatientDetail",setup(a){const i=l(),D=e(),{detailTabs:E,activeTab:A}=n(D),V=[{id:"basic",title:"基本信息",children:[{id:"patient-basic",title:"患者基本信息",component:T(()=>t(()=>import("./PatientBasicInfo.72b21c85.js"),["./PatientBasicInfo.72b21c85.js","./vendor.3cd7cc43.js","./index.8b7de0e4.js","./elementPlus.e1a77197.js","./mock.cbbac905.js","../css/index.dc020073.css","../css/PatientBasicInfo.4e7324ca.css"],import.meta.url))},{id:"patient-surgery",title:"手术信息",component:T(()=>t(()=>import("./PatientSurgeryInfo.de1cb77b.js"),["./PatientSurgeryInfo.de1cb77b.js","./vendor.3cd7cc43.js","./index.8b7de0e4.js","./elementPlus.e1a77197.js","./mock.cbbac905.js","../css/index.dc020073.css","../css/PatientSurgeryInfo.017ec15b.css"],import.meta.url))}]},{id:"nursing",title:"护理信息",component:T(()=>t(()=>import("./PatientNursingInfo.5bfa16de.js"),["./PatientNursingInfo.5bfa16de.js","./vendor.3cd7cc43.js","./index.8b7de0e4.js","./elementPlus.e1a77197.js","./mock.cbbac905.js","../css/index.dc020073.css","../css/PatientNursingInfo.2af2a35c.css"],import.meta.url))},{id:"records",title:"病历记录",component:T(()=>t(()=>import("./PatientMedicalRecords.8e87aca3.js"),["./PatientMedicalRecords.8e87aca3.js","./vendor.3cd7cc43.js","./index.8b7de0e4.js","./elementPlus.e1a77197.js","./mock.cbbac905.js","../css/index.dc020073.css","../css/PatientMedicalRecords.27a4c922.css"],import.meta.url))}],R=e=>{const t=(e,a)=>{for(const i of e){if(i.id===a)return i;if(i.children){const e=t(i.children,a);if(e)return e}}};return t(V,e)},L=e=>{e.id&&D.addDetailTab(A.value.patientId,e.title,{id:e.id,title:e.title})},O=e=>{D.closeDetailTab(A.value.patientId,e)},C=()=>{var e;const t=i.params.id,a=i.params.name;if(console.log("初始化/更新患者标签页:",{patientId:t,patientName:a}),null==(e=E.value[t])?void 0:e.length)D.setActiveTab(t,a,E.value[t][0].id);else{const e=R("patient-basic");D.addDetailTab(t,a,{id:(null==e?void 0:e.id)||"",title:(null==e?void 0:e.title)||""})}};return d(()=>{C()}),s(()=>{console.log("组件激活，更新患者信息"),C()}),(e,t)=>{var a;const i=o("el-menu-item"),l=o("el-sub-menu"),n=o("el-menu"),d=o("el-tab-pane"),s=o("el-tabs");return r(),u("div",g,[c("div",x,[m(n,{class:"nav-menu"},{default:p(()=>[(r(),u(b,null,f(V,e=>{var t;return r(),u(b,{key:e.id},[(null==(t=e.children)?void 0:t.length)?(r(),I(l,{key:0,index:e.id},{title:p(()=>[c("span",null,k(e.title),1)]),default:p(()=>[(r(!0),u(b,null,f(e.children,e=>(r(),I(i,{key:e.id,index:e.id,onClick:t=>L(e)},{default:p(()=>[y(k(e.title),1)]),_:2},1032,["index","onClick"]))),128))]),_:2},1032,["index"])):(r(),I(i,{key:1,index:e.id,onClick:t=>L(e)},{default:p(()=>[y(k(e.title),1)]),_:2},1032,["index","onClick"]))],64)}),64))]),_:1})]),c("div",h,[(null==(a=_(E)[_(A).patientId])?void 0:a.length)>0?(r(),u("div",j,[m(s,{modelValue:_(A).tabId,"onUpdate:modelValue":t[0]||(t[0]=e=>_(A).tabId=e),type:"card",closable:"",onTabRemove:O,class:"detail-tabs"},{default:p(()=>[(r(!0),u(b,null,f(_(E)[_(A).patientId],e=>(r(),I(d,{key:e.id,label:e.title,name:e.id},{default:p(()=>{var t;return[(r(),I(P(null==(t=R(e.id))?void 0:t.component),{"patient-id":_(A).patientId,"tab-type":e.id},null,8,["patient-id","tab-type"]))]}),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])])):v("",!0)])])}}}),[["__scopeId","data-v-58961cbd"]]);export{D as default};
//# sourceMappingURL=PatientDetail.781344bf.js.map
